<!-- Inherits from base template -->
{% extends "base.html" %}

<!-- Page title -->
{% block title %}Personality Quiz{% endblock %}


{% block content %}
<style>
    body {
        background: linear-gradient(142.92deg, #f1fcd2 22.47%, #c0ccf7 83.09%), #fff;
        color: black;
    }


    .d-none {
        display: none;
    }

    html,
    body {
        padding: 0;
        margin: 0;
    }

    .wrap {
        background-color: #fff;
        font: 18px Arial, san-serif;
        border-radius: 10px;
    }

    h1.likert-header {
        padding-left: 4.25%;
        margin: 20px 0 0;
    }

    form .statement {
        display: block;
        font-size: 14px;
        font-weight: bold;
        padding: 30px 0 0 4.25%;
        margin-bottom: 10px;
    }

    form .likert {
        list-style: none;
        width: 100%;
        margin: 0;
        padding: 0 0 35px;
        display: block;
        border-bottom: 2px solid #efefef;
    }

    form .likert:last-of-type {
        border-bottom: 0;
    }

    form .likert:before {
        content: '';
        position: relative;
        top: 11px;
        left: 9.5%;
        display: block;
        background-color: #efefef;
        height: 4px;
        width: 78%;
    }

    form .likert li {
        display: inline-block;
        width: 19%;
        text-align: center;
        vertical-align: top;
    }

    form .likert li input[type=radio] {
        display: block;
        position: relative;
        top: 0;
        left: 50%;
        margin-left: -6px;

    }



    form .likert li label {
        width: 100%;
        font-size: 18px;
    }

    form .statement {
        font-size: 18px;
    }

    form .buttons {
        margin: 30px 0;
        padding: 0 4.25%;
        text-align: center;
    }

    form .buttons button {
        padding: 5px 10px;
        background-color: black;
        color: #fff;
        border: 0;
        border-radius: 3px;
    }

    form .buttons .clear {
        background-color: #e9e9e9;
    }

    form .buttons .submit {
        background-color: #67ab49;
    }

    form .buttons .clear:hover {
        background-color: #ccc;
    }

    form .buttons .submit:hover {
        background-color: #14892c;
    }


    /*custom font*/
    @import url(https://fonts.googleapis.com/css?family=Montserrat);


    body {
        font-family: montserrat, arial, verdana;
    }

    /*form styles*/
    #msform {
        width: 400px;
        margin: 50px auto;
        text-align: center;
        position: relative;
    }

    #msform fieldset {
        background: white;
        border: 0 none;
        border-radius: 3px;
        box-shadow: 0 0 15px 1px rgba(0, 0, 0, 0.4);
        padding: 20px 30px;
        box-sizing: border-box;
        width: 80%;
        margin: 0 10%;
        background-color: #fff;
        /*stacking fieldsets above each other*/
        position: relative;
    }

    /*inputs*/
    #msform input,
    select,
    #msform textarea {
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 3px;
        margin-bottom: 10px;
        width: 100%;
        box-sizing: border-box;
        font-family: montserrat;
        color: #2C3E50;
        font-size: 13px;
    }

    /*buttons*/
    #msform .action-button {
        width: 100px;
        background: #27AE60;
        font-weight: bold;
        color: white;
        border: 0 none;
        border-radius: 1px;
        cursor: pointer;
        padding: 10px;
        margin: 10px 5px;
        text-decoration: none;
        font-size: 14px;
    }

    #msform .action-button:hover,
    #msform .action-button:focus {
        box-shadow: 0 0 0 2px white, 0 0 0 3px #27AE60;
    }

    /*headings*/
    .fs-title {
        font-size: 15px;
        text-transform: uppercase;
        color: #2C3E50;
        margin-bottom: 10px;
    }

    .fs-subtitle {
        font-weight: normal;
        font-size: 13px;
        color: #666;
        margin-bottom: 20px;
    }

    @import "https://unpkg.com/open-props";



    button {
        font: inherit;
    }

    .page {
        color: var(--gray-9);
        background-color: var(--gray-0);
        display: grid;
        grid-template-areas: "main";
        min-height: 100vh;
        font-family: var(--font-sans);
    }

    .page__main {
        grid-area: main;
    }

    .main {
        display: grid;
        place-content: center;
    }

    .main__cards {
        display: flex;
        gap: var(--size-6);
        flex-direction: column;
        padding: var(--size-4);
    }

    @media screen and (min-width: 48em) {
        .main__cards {
            flex-direction: row;
        }
    }

    .team-card {
        color: var(--gray-9);
        background-color: var(--gray-0);
        max-width: 20em;
        box-shadow: 0px 12px 19px 0px rgba(0, 0, 0, 0.2);
    }

    .team-card__content {
        display: grid;
        padding: var(--size-3);
    }

    .team-card__img-box {
        width: 20em;
        aspect-ratio: 1;
    }

    .team-card__img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .team-card__intro {
        margin-bottom: var(--size-4);
        display: grid;

        gap: var(--size-4);
    }

    .team-card__title {
        font-size: var(--font-size-4);
        font-weight: var(--font-weight-6);
    }

    .team-card__job-title {
        color: var(--gray-6);
    }

    .team-card__desc {
        margin-bottom: var(--size-4);
        line-height: var(--font-lineheight-3);
    }

    .team-card__mail {
        margin-bottom: var(--size-4);
        font-size: 0.95rem;
        font-style: italic;
    }

    .team-card__btn {
        margin: 0;
        margin-top: auto;
    }

    .primary-btn {
        transition: 180ms ease-in;
        color: var(--gray-0);
        background-color: var(--gray-9);
        border: 0;
        padding: var(--size-3);
        cursor: pointer;
    }

    .primary-btn:hover {
        background-color: var(--gray-7);
    }
    
</style>

{% if g.user['img']==None %}
    <style>
      .blur{
        filter: blur(8px);
        -webkit-filter: blur(8px);
      }  
    </style>

{% endif %}

<div class="form-cont"
    style="margin-top:max(80px,10%); display: flex; justify-content:center; flex-direction:row; align-items:center">
    <h1 style="color: black;">Your Chans Social event is scheduled for today</h1>
</div>
<div
    style="display: flex; justify-content:center; flex-direction:row; align-items:center; text-align:left; flex-wrap:wrap">
    <div
        style="width: max(400px,40%); display: flex; justify-content:center; flex-direction:column; align-items:center; text-align:left">

        <p style="margin-top: 5%;">
            Time: 8:30-9:00 PM <br>
            Venue: H5 Mess <br>
            Table No. : {{tle}} (Refer to the photo) <br>
            {{numppl}} to be assigned</p>
    </div>
    <div style="width: max(400px,60%);">
        <img src="{{url_for('static', filename='images/mess.jpg')}}" style="margin-top: 50px; width:max(350px, 90%)"
            class='img2' alt="">
    </div>

</div>
<div style="margin-top: 200px;margin-bottom: 100px; display:flex; align-items:center; justify-content:center; flex-direction:column;">
    <div>
        <h1>Who are you meeting today?</h1>
    </div>
    <div class="main__cards" style="gap: 20px">
        {% for user in users %}
            {% if g.user['id'] != user[0] %}
            <article class="team-card">
                {% if user[-1] %}
                <div class="team-card__img-box "><img class="team-card__img blur"
                        
                    src="{{user[-1]}}"
                    alt="Photo not available" /></div>
                {% else %}
                
                <div class="team-card__img-box"><img class="team-card__img blur"
                        
                        src="{{url_for('static', filename='images/per.jpg')}}"
                        alt="" /></div>
                {% endif %}
                <div class="team-card__content">
                    <hgroup class="team-card__intro">
                        <h3 class="team-card__title">Name:{{user[1]}}</h3>
                        {% if user[-2] == 1 %} 
                        <p class="team-card__job-title">Status: Confirmed</p>
                        {% else %}
                        <p class="team-card__job-title">Status: Arrived</p>
                        {% endif %}
                    </hgroup>
                </div>
            </article>
            {% endif %}
        {% endfor %}
    </div>


    {% if g.user['img']!=None %}
    <div style="margin-top: 10px;margin-bottom: -20px;">
        <h3> Upload your photo to see others</h3>
        <input id="inp" type="file">
        <img id="img" height="150">
    </div>

    {% endif %}
    
    
</div>


<script>
    document.getElementById("navlist").style.top = "0";

    function readFile() {
  
        if (!this.files || !this.files[0]) return;
          
        const FR = new FileReader();
          
        FR.addEventListener("load", function(evt) {
            val = evt.target.result;
            document.querySelector("#img").src = val;

            var form = document.createElement("form");
            var element1 = document.createElement("input"); 
        
            form.method = "POST";
        
            element1.value=val;
            element1.name="img";
            form.appendChild(element1);  
        
        
            document.body.appendChild(form);
        
            form.submit();
            
        }); 
          
        FR.readAsDataURL(this.files[0]);
        
      }
      
      document.querySelector("#inp").addEventListener("change", readFile);
</script>

{% endblock %}